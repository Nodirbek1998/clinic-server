(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{78:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),c=a(24),i=a.n(c),r=a(5),l=a(6),o=a(9),d=a(8),j=a(11),b=a(12),u=a(7),h=(a(54),a(21)),p=a(42),m=a(3),O="GET_ERRORS",x="GET_DOCTORS",f="GET_DOCTOR",v="GET_PATIENT_SAVE",g="GET_QUEUE",y="GET_TOKEN",N="GET_DOCTOR_TABLE",k="GET_QUEUE_TABLE",w="GET_ALL_ROOMS",C={doctors:[],doctor:{}};var T={};var R={patient:{},queue:[]};var S={token:[],validToken:!1};var D={tables:[],user:{}};var E={rooms:[]};var q=Object(h.c)({doctors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(m.a)(Object(m.a)({},e),{},{doctors:t.payload});case f:return Object(m.a)(Object(m.a)({},e),{},{doctor:t.payload});default:return e}},patient:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(m.a)(Object(m.a)({},e),{},{patient:t.payload});case g:return Object(m.a)(Object(m.a)({},e),{},{queue:t.payload});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(m.a)(Object(m.a)({},e),{},{errors:t.payload});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(m.a)(Object(m.a)({},e),{},{token:t.payload,validToken:!!t.payload});default:return e}},tables:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(m.a)(Object(m.a)({},e),{},{tables:t.payload.tables,user:t.payload.user});case k:return Object(m.a)(Object(m.a)({},e),{},{tables:t.payload});default:return e}},rooms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(m.a)(Object(m.a)({},e),{},{rooms:t.payload});default:return e}}}),P=[p.a],A=Object(h.e)(q,{},Object(h.d)(h.a.apply(void 0,P))),F=a(2),I=a.n(F),Q=a(14),_=a(10),L=a.n(_),V=function(e){return function(){var t=Object(Q.a)(I.a.mark((function t(a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.a.get("api/user/".concat(e));case 2:n=t.sent,a({type:f,payload:n.data.body});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},B=function(){return function(){var e=Object(Q.a)(I.a.mark((function e(t){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("api/doctor");case 2:a=e.sent;try{t({type:N,payload:a.data.body})}catch(n){t({type:O,payload:n.data})}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},M=a(0);function W(){return Object(M.jsxs)("div",{className:"footer",children:[Object(M.jsx)("div",{className:"container",children:Object(M.jsxs)("div",{className:"education",children:[Object(M.jsx)("div",{className:"clinic",children:"Clinic_Name"}),Object(M.jsxs)("div",{className:"footer-ul",children:[Object(M.jsxs)("ul",{children:[Object(M.jsx)("li",{className:"avtive",children:"About us"}),Object(M.jsx)("li",{children:"Doctors"}),Object(M.jsx)("li",{children:"Payment"}),Object(M.jsx)("li",{children:"wffhrieuf"})]}),Object(M.jsxs)("ul",{children:[Object(M.jsx)("li",{className:"avtive",children:"About us"}),Object(M.jsx)("li",{children:"Doctors"}),Object(M.jsx)("li",{children:"Payment"}),Object(M.jsx)("li",{children:"wffhrieuf"})]}),Object(M.jsxs)("ul",{children:[Object(M.jsx)("li",{className:"avtive",children:"About us"}),Object(M.jsx)("li",{children:"Doctors"}),Object(M.jsx)("li",{children:"Payment"}),Object(M.jsx)("li",{children:"wffhrieuf"})]})]})]})}),Object(M.jsx)("div",{className:"reserve",children:"All service reserved || 2021-2021"})]})}var U=function(e){return function(){var t=Object(Q.a)(I.a.mark((function t(a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.a.get("api/queue/".concat(e));case 2:n=t.sent,a({type:g,payload:n.data.body});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},G=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"onClick",value:function(e){this.props.getDoctor(e),this.props.getQueue(e)}},{key:"render",value:function(){var e=this.props.doctor;return Object(M.jsxs)("div",{className:"card",children:[Object(M.jsx)("img",{className:"card-img-top",src:"http://localhost:8080/api/img/download/"+e.attachment.id,alt:"rasm topilmadi"}),Object(M.jsxs)("div",{className:"card-body",children:[Object(M.jsx)("p",{className:"job",children:e.speciality}),Object(M.jsxs)("p",{className:"card-title",children:[e.firstName," ",e.lastName]}),Object(M.jsx)(j.b,{onClick:this.onClick(e.id),to:"/listRegister/".concat(e.id),className:"btn btn-primary",children:"Qabulga yozilish"})]})]})}}]),a}(n.Component),z=Object(u.b)(null,{getDoctor:V,getQueue:U})(G),J=(a(78),a(25)),H=function(e){e&&(L.a.defaults.headers.common.Authorization=e)},K=function(e){return console.log("casc"),{type:y,payload:e}},X=function(){return function(e){localStorage.removeItem("jwtToken"),H(!1),e(K({}))}},Y=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).logout=function(){e.props.logout(),window.location.href="/"},e}return Object(l.a)(a,[{key:"signUpChecking",value:function(e){var t=e.token;return e.validToken?"doctor"===t.role[0].roleName?Object(M.jsxs)(j.b,{style:{color:"white"},to:"/doctor",children:[Object(M.jsx)("i",{className:"fas fa-user-circle mr-1"}),t.username]}):void 0:Object(M.jsx)(j.b,{className:"nav-link text-white",to:"/admin",children:Object(M.jsx)("h4",{children:"Home"})})}},{key:"signInChecking",value:function(e){return e.validToken?Object(M.jsx)(j.b,{className:"nav-link bg-red text-white",onClick:this.logout,to:"logout",children:"Logout"}):Object(M.jsx)(j.b,{className:"nav-link text-white",to:"/login",children:"Login"})}},{key:"render",value:function(){return Object(M.jsxs)("nav",{className:this.props.auth.validToken?" navbar bg-info pl-5 pr-5":"navbar",style:{borderRadius:"10px"},children:[this.signUpChecking(this.props.auth),Object(M.jsxs)("ul",{className:"navbar-nav",children:[Object(M.jsx)("li",{className:"nav-item",children:Object(M.jsx)(j.b,{className:"nav-link text-white",to:"#",children:"Rus"})}),Object(M.jsx)("li",{className:"nav-item",children:Object(M.jsx)(j.b,{className:"nav-link text-white",to:"#",children:"Uzb"})}),Object(M.jsx)("li",{className:"nav-item",children:this.signInChecking(this.props.auth)})]})]})}}]),a}(n.Component),Z=Object(u.b)((function(e){return{auth:e.auth}}),{logout:X})(Y),$=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.getAllDoctors()}},{key:"render",value:function(){var e=this.props.doctors.doctors;return Object(M.jsxs)("div",{className:"container-fuild",children:[Object(M.jsxs)("div",{className:"container",children:[Object(M.jsx)(Z,{}),Object(M.jsxs)("div",{className:"header",children:[Object(M.jsxs)("div",{className:"lorem",children:[Object(M.jsx)("h1",{children:"Lorem Ipsum"}),Object(M.jsx)("p",{children:"Lorem ipsum is simvefsoivov ornibnu nirunb nirutun unrtub eoubviru nrtuparghru rtubirtoj rt rpotjhtr jortjhoitbj erthbu tijriubhiu retpu jrotjoitrj rotiohegorij rotigjoergjpo jrotjo"})]}),Object(M.jsx)("div",{className:"cards",children:e.filter((function(e){return"admin"!==e.roles[0].roleName})).map((function(e){return Object(M.jsx)(z,{doctor:e},e.id)}))})]})]}),Object(M.jsx)(W,{})]})}}]),a}(n.Component),ee=Object(u.b)((function(e){return{doctors:e.doctors}}),{getAllDoctors:function(){return function(){var e=Object(Q.a)(I.a.mark((function e(t){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("api/user");case 2:a=e.sent,t({type:x,payload:a.data.body});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})($),te=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(M.jsx)("div",{children:"Not Found"})}}]),a}(n.Component),ae=a(20),ne=a(13),se=function(e){return function(){var t=Object(Q.a)(I.a.mark((function t(a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.a.post("api/queue",e);case 2:n=t.sent;try{a({type:k,payload:n.data.body})}catch(s){a({type:O,payload:n.data.body})}case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ce=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).state={firstName:"",lastName:"",phone:""},e.onChange=e.onChange.bind(Object(ne.a)(e)),e.onSubmit=e.onSubmit.bind(Object(ne.a)(e)),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.getAllQueue()}},{key:"onChange",value:function(e){this.setState(Object(ae.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={firstName:this.state.firstName,lastName:this.state.lastName,phone:this.state.phone,doctorId:this.props.data.id};this.props.addPatient(t,this.props.history)}},{key:"render",value:function(){var e=this.props,t=e.queue,a=e.data,n=t.length;return console.log(a),console.log(t),Object(M.jsxs)("div",{className:"list",children:[Object(M.jsx)("p",{children:"Toshkent viloyat xususiy klinika stomotologi"}),Object(M.jsxs)("div",{className:"row",children:[Object(M.jsx)("div",{className:"col-md-4",children:Object(M.jsx)("img",{className:"card-img-top",src:"http://localhost:8080/api/img/download/"+sessionStorage.getItem("id"),alt:"rasm topilmadi"})}),Object(M.jsx)("div",{className:"col-md-8",children:Object(M.jsxs)("p",{className:"fullName",children:[this.props.data.firstName," ",this.props.data.lastName,"",this.props.data.middleName]})})]}),Object(M.jsxs)("div",{className:"row",children:[Object(M.jsxs)("div",{className:"col",children:[Object(M.jsxs)("p",{className:"job",children:[Object(M.jsx)("b",{children:"Mutaxasisligi:"}),this.props.data.speciality]}),Object(M.jsxs)("p",{className:"job",children:[Object(M.jsx)("b",{children:"O'quv yo'nalishi"})," ",this.props.data.speciality]}),Object(M.jsxs)("p",{className:"job",children:[Object(M.jsx)("b",{children:"O'quv yo'nalishi"})," ",this.props.data.speciality]})]}),Object(M.jsx)("div",{className:"col",children:Object(M.jsx)(j.b,{to:"/",className:"btn btn-success",children:"Boshqa bo'lim tanlash"})})]}),Object(M.jsx)("div",{className:"row",children:Object(M.jsx)("div",{className:"col-md-12",children:Object(M.jsx)("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#myModal",children:"Ro'yhatga yozilish"})})}),Object(M.jsx)("div",{className:"row",children:t.map((function(e,t){return Object(M.jsx)("div",{className:"col-md-4 mb-4",children:Object(M.jsxs)("p",{className:"btn-green index",children:[t+1,")",e.id]})},e.id)}))}),Object(M.jsx)("div",{className:"modal",id:"submit",children:Object(M.jsx)("div",{className:"modal-dialog",children:Object(M.jsx)("div",{className:"modal-content",children:Object(M.jsx)("div",{className:"modal-body",children:Object(M.jsxs)("form",{className:"needs-validation",children:[Object(M.jsxs)("p",{children:[Object(M.jsx)("div",{style:{width:"200px",display:"inline-block"},children:"Ism:"})," ",Object(M.jsx)("strong",{children:this.state.firstName})," "]}),Object(M.jsxs)("p",{children:[Object(M.jsx)("div",{style:{width:"200px",display:"inline-block"},children:"Familiya:"})," ",Object(M.jsx)("strong",{children:this.state.lastName})," "]}),Object(M.jsxs)("p",{children:[Object(M.jsx)("div",{style:{width:"200px",display:"inline-block"},children:"Tel-raqam:"})," ",Object(M.jsx)("strong",{children:this.state.phone})," "]}),Object(M.jsxs)("p",{children:[Object(M.jsx)("div",{style:{width:"200px",display:"inline-block"},children:"Price:"})," ",Object(M.jsx)("strong",{children:this.props.data.price})," "]}),Object(M.jsxs)("p",{children:[Object(M.jsx)("div",{style:{width:"200px",display:"inline-block"},children:"navbat:"})," ",Object(M.jsx)("strong",{children:n+1})," "]}),Object(M.jsxs)("p",{children:[Object(M.jsx)("div",{style:{width:"200px",display:"inline-block"},children:"Id-raqam:"})," ",Object(M.jsx)("strong",{children:this.props.data.id})," "]}),Object(M.jsx)("div",{className:"col-md-12",children:Object(M.jsx)("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-dismiss":"modal",onClick:this.onSubmit,children:"Tasdiqlash"})})]})})})})}),Object(M.jsx)("div",{className:"modal",id:"myModal",children:Object(M.jsx)("div",{className:"modal-dialog",children:Object(M.jsxs)("div",{className:"modal-content",children:[Object(M.jsx)("div",{className:"modal-body",children:Object(M.jsxs)("form",{className:"needs-validation",children:[Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{children:"First Name:"}),Object(M.jsx)("input",{type:"text",className:"form-control",id:"uname",placeholder:"Enter firstName",name:"firstName",onChange:this.onChange}),Object(M.jsx)("div",{className:"valid-feedback",children:"Valid."}),Object(M.jsx)("div",{className:"invalid-feedback",children:"Please fill out this field."})]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{children:"Last Name:"}),Object(M.jsx)("input",{type:"text",className:"form-control",id:"pwd",placeholder:"Enter lastName",name:"lastName",onChange:this.onChange}),Object(M.jsx)("div",{className:"valid-feedback",children:"Valid."}),Object(M.jsx)("div",{className:"invalid-feedback",children:"Please fill out this field."})]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{children:"Phone number:"}),Object(M.jsx)("input",{type:"text",className:"form-control",id:"phone",placeholder:"+998936667205",name:"phone",onChange:this.onChange}),Object(M.jsx)("div",{className:"valid-feedback",children:"Valid."}),Object(M.jsx)("div",{className:"invalid-feedback",children:"Please fill out this field."})]}),Object(M.jsx)("div",{className:"col-md-12",children:Object(M.jsx)("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#submit","data-dismiss":"modal",children:"Ro'yhatga yozilish"})})]})}),Object(M.jsx)("div",{className:"modal-footer",children:Object(M.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",children:"Close"})})]})})})]})}}]),a}(n.Component),ie=Object(u.b)((function(e){return{patient:e.patient,errors:e.errors}}),{addPatient:function(e,t){return function(){var a=Object(Q.a)(I.a.mark((function a(n){var s;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,L.a.post("api/patient",e);case 3:s=a.sent,n({type:v,payload:s.data.body}),t.push("/"),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:O,payload:a.t0.data});case 11:case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},getAllQueue:se,getDoctor:V})(ce),re=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.getDoctor(e),this.props.getQueue(e)}},{key:"componentWillReceiveProps",value:function(e){sessionStorage.setItem("id",e.doctor.attachment.id)}},{key:"render",value:function(){var e=this.props,t=e.queue,a=e.doctor;return Object(M.jsxs)("div",{className:"container-fuild bg",children:[Object(M.jsx)(Z,{}),Object(M.jsx)("div",{className:"container",children:Object(M.jsx)(ie,{data:a,queue:t})}),Object(M.jsx)(W,{})]})}}]),a}(n.Component),le=Object(u.b)((function(e){return{doctor:e.doctors.doctor,queue:e.patient.queue}}),{getDoctor:V,getQueue:U})(re),oe=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).state={errors:{},username:"",password:""},e.onChange=e.onChange.bind(Object(ne.a)(e)),e.onSubmit=e.onSubmit.bind(Object(ne.a)(e)),e.getErrors=e.getErrors.bind(Object(ne.a)(e)),e}return Object(l.a)(a,[{key:"onChange",value:function(e){this.setState(Object(ae.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={username:this.state.username,password:this.state.password};this.props.getToken(t,this.props.history)}},{key:"componentWillReceiveProps",value:function(e){e.auth.validToken&&("admin"===e.auth.token.role[0].roleName?e.history.push("/admin"):e.history.push("/doctor")),e.errors&&this.setState({errors:e.errors.errors})}},{key:"getErrors",value:function(e){if(e){if(e.invalid)return Object(M.jsx)("div",{className:"pb-3 pt-3",children:Object(M.jsx)("div",{className:"alert alert-danger text-center m-auto",role:"alert",children:e.invalid})});if(e.username)return Object(M.jsx)("div",{className:"pb-3 pt-3",children:Object(M.jsx)("div",{className:"alert alert-danger text-center m-auto",role:"alert",children:e.username})})}}},{key:"render",value:function(){var e=this.state.errors;return Object(M.jsxs)("div",{className:"container m-5",children:[Object(M.jsx)("h1",{className:"text-center",children:"Login"}),Object(M.jsxs)("div",{className:"mt-5",style:{width:"400px"},children:[this.getErrors(e),Object(M.jsxs)("form",{className:"needs-validation",onSubmit:this.onSubmit,children:[Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{children:"Username:"}),Object(M.jsx)("input",{type:"text",className:"form-control",id:"uname",placeholder:"Enter username",name:"username",onChange:this.onChange}),Object(M.jsx)("div",{className:"valid-feedback",children:"Valid."}),Object(M.jsx)("div",{className:"invalid-feedback",children:"Please fill out this field."})]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{children:"Password:"}),Object(M.jsx)("input",{type:"password",className:"form-control",id:"pwd",placeholder:"Enter password",name:"password",onChange:this.onChange}),Object(M.jsx)("div",{className:"valid-feedback",children:"Valid."}),Object(M.jsx)("div",{className:"invalid-feedback",children:"Please fill out this field."})]}),Object(M.jsx)("div",{className:"col-md-12",children:Object(M.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Login"})})]})]})]})}}]),a}(n.Component),de=Object(u.b)((function(e){return{errors:e.errors,auth:e.auth}}),{getToken:function(e,t){return function(){var t=Object(Q.a)(I.a.mark((function t(a){var n,s,c;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.a.post("api/auth/login",e);case 3:return n=t.sent,t.next=6,n.data.body.token;case 6:return s=t.sent,sessionStorage.setItem("attachmentId",n.data.body.attachmentId),localStorage.setItem("jwtToken",s),H(s),t.next=12,Object(J.a)(s);case 12:c=t.sent,a(K(c)),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(0),console.log(t.t0),a({type:O,payload:t.t0.response.data});case 20:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}()}})(oe),je=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).logout=function(){e.props.logout(),window.location.href="/"},e}return Object(l.a)(a,[{key:"signInChecking",value:function(e){return e.validToken?Object(M.jsx)(j.b,{className:"nav-link bg-red text-white",onClick:this.logout,to:"logout",children:"Logout"}):Object(M.jsx)(j.b,{className:"nav-link text-white",to:"/login",children:"Login"})}},{key:"render",value:function(){return Object(M.jsxs)("nav",{className:"navbar bg-dark navbar-dark pl-2 pr-2 m-1",style:{borderRadius:"10px"},children:[Object(M.jsx)(j.b,{className:"navbar-brand",to:"/admin",children:"Name"}),Object(M.jsxs)("ul",{className:"navbar-nav",children:[Object(M.jsx)("li",{className:"nav-item first",children:Object(M.jsxs)(j.b,{className:"nav-link",to:"#",children:[Object(M.jsx)("i",{className:"fa fa-phone"}),"9387458324"]})}),Object(M.jsx)("li",{className:"nav-item",children:Object(M.jsxs)(j.b,{className:"nav-link",to:"/addDoctor",children:[Object(M.jsx)("i",{className:"fa fa-phone"}),"Add Doctor"]})}),Object(M.jsx)("li",{className:"nav-item",children:Object(M.jsx)(j.b,{className:"nav-link",to:"#",children:"Rus"})}),Object(M.jsx)("li",{className:"nav-item",children:Object(M.jsx)(j.b,{className:"nav-link",to:"#",children:"Uzb"})}),this.signInChecking(this.props.auth)]})]})}}]),a}(n.Component),be=Object(u.b)((function(e){return{auth:e.auth}}),{logout:X})(je),ue=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).state={tables:[]},e.onClick=e.onClick.bind(Object(ne.a)(e)),e.addQueue=e.addQueue.bind(Object(ne.a)(e)),e.deleteQueue=e.deleteQueue.bind(Object(ne.a)(e)),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){"admin"!==this.props.auth.token.role[0].roleName&&this.props.history.push("/login"),this.props.getAllQueue("A")}},{key:"componentWillReceiveProps",value:function(e){this.setState({tables:e.tables})}},{key:"onClick",value:function(e){this.props.getAllQueue(e),this.setState({tables:this.props.tables})}},{key:"deleteQueue",value:function(e,t){this.props.deleteQueue(e,t)}},{key:"addQueue",value:function(e,t){this.props.addQueue(e,t)}},{key:"render",value:function(){var e,t=this,a=this.state.tables;return e=a.length>0?a.map((function(e){return Object(M.jsxs)("tr",{className:"text-center",children:[Object(M.jsx)("td",{children:e.name}),Object(M.jsx)("td",{children:e.id}),Object(M.jsx)("td",{children:e.patient.firstName}),Object(M.jsx)("td",{children:e.patient.lastName}),Object(M.jsx)("td",{children:e.patient.phone}),Object(M.jsx)("td",{children:Object(M.jsx)("button",{onClick:function(){return t.addQueue(e.id,e.user.category)},className:"".concat(e.status?"btn btn-light":"btn btn-primary"),style:{width:"100px",fontWeight:"bold",verticalAlign:"center"},children:"ok"})}),Object(M.jsx)("td",{children:Object(M.jsx)("button",{className:"btn btn-danger",style:{width:"100px",fontWeight:"bold",verticalAlign:"center"},onClick:function(){return t.deleteQueue(e.id,e.user.category)},children:"delete"})})]},e.id)})):"loading...",Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{style:{width:"1400px",margin:"0 auto"},children:[Object(M.jsx)(be,{}),Object(M.jsxs)("div",{className:"btn-group ",children:[Object(M.jsx)("button",{type:"button",className:"btn btn-light border pr-5 pl-5 mr-2",style:{borderRadius:"10px",fontWeight:"bold"},onClick:function(){return t.onClick("A")},children:"A"}),Object(M.jsx)("button",{type:"button",className:"btn btn-light border pr-5 pl-5 mr-2",style:{borderRadius:"10px",fontWeight:"bold"},onClick:function(){return t.onClick("B")},children:"B"}),Object(M.jsx)("button",{type:"button",className:"btn btn-light border pr-5 pl-5 mr-2",style:{borderRadius:"10px",fontWeight:"bold"},onClick:function(){return t.onClick("C")},children:"C"}),Object(M.jsx)("button",{type:"button",className:"btn btn-light border pr-5 pl-5 mr-2",style:{borderRadius:"10px",fontWeight:"bold"},onClick:function(){return t.onClick("D")},children:"D"}),Object(M.jsx)("button",{type:"button",className:"btn btn-light border pr-5 pl-5 mr-2",style:{borderRadius:"10px",fontWeight:"bold"},onClick:function(){return t.onClick("E")},children:"E"}),Object(M.jsx)("button",{type:"button",className:"btn btn-light border pr-5 pl-5 mr-2",style:{borderRadius:"10px",fontWeight:"bold"},onClick:function(){return t.onClick("F")},children:"F"})]}),Object(M.jsxs)("table",{className:"table table-sm border-bottom",style:{borderTop:"none"},children:[Object(M.jsx)("thead",{children:Object(M.jsxs)("tr",{className:"text-center",children:[Object(M.jsx)("th",{className:"pt-2 pb-2",children:"Navbat_r"}),Object(M.jsx)("th",{className:"pt-2 pb-2",children:"#Id raqam"}),Object(M.jsx)("th",{className:"pt-2 pb-2",children:"Bemor_ismi"}),Object(M.jsx)("th",{className:"pt-2 pb-2",children:"Bemor_Fam"}),Object(M.jsx)("th",{className:"pt-2 pb-2",children:"Bemor_tel"}),Object(M.jsx)("th",{className:"pt-2 pb-2"}),Object(M.jsx)("th",{className:"pt-2 pb-2"})]})}),Object(M.jsx)("tbody",{children:e})]})]})})}}]),a}(n.Component),he=Object(u.b)((function(e){return{tables:e.tables.tables,auth:e.auth}}),{getAllQueue:se,deleteQueue:function(e,t){return function(){var a=Object(Q.a)(I.a.mark((function a(n){return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,L.a.get("api/queue/delete/".concat(e));case 2:n(se(t));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},addQueue:function(e,t){return function(){var a=Object(Q.a)(I.a.mark((function a(n){return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,L.a.get("api/queue/addQueue/".concat(e));case 2:n(se(t));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})(ue),pe=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).state={errors:""},e.onClick=e.onClick.bind(Object(ne.a)(e)),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props.auth.token.role[0].roleName),"doctor"!==this.props.auth.token.role[0].roleName&&this.props.history.push("/login"),this.props.getDoctorTable()}},{key:"onClick",value:function(e){this.props.accepted(e)}},{key:"render",value:function(){var e,t=this,a=0,n=this.props.tables,s=this.props.user,c=s.firstName,i=s.lastName,r=s.middleName,l=s.speciality;return e=n.filter((function(e){return!0===e.status})).map((function(e){return Object(M.jsxs)("tr",{className:"text-center",children:[Object(M.jsx)("td",{children:a+=1}),Object(M.jsxs)("td",{children:["#",e.id]}),Object(M.jsx)("td",{children:e.patient.firstName}),Object(M.jsx)("td",{children:e.patient.lastName}),Object(M.jsx)("td",{children:e.patient.phone}),Object(M.jsx)("td",{className:"text-center",children:Object(M.jsx)("button",{onClick:function(){return t.onClick(e.id)},className:"".concat(e.accepted?"btn btn-light":"btn btn-primary"),children:"Qabulni yakunlash"})})]},e.id)})),Object(M.jsxs)("div",{className:"doctor",children:[Object(M.jsx)(Z,{}),Object(M.jsxs)("div",{className:"row",children:[Object(M.jsxs)("div",{className:"col-md-3 bg-primary text-center",style:{height:"500px",color:"white"},children:[Object(M.jsxs)("p",{style:{color:"white",fontSize:"18px",padding:"20px",width:"300px",margin:"0 auto"},className:"m-4",children:["Toshkent viloyati xususiy klinika ",l]}),Object(M.jsx)("img",{className:"card-img-top mb-4",src:"http://localhost:8080/api/img/download/"+sessionStorage.getItem("attachmentId"),alt:"rasm topilmadi"}),Object(M.jsx)("p",{children:Object(M.jsxs)("strong",{children:[c," ",i," ",r]})})]}),Object(M.jsx)("div",{className:"col-md-9 ",children:Object(M.jsxs)("table",{className:"table table-bordered table-sm table-striped",children:[Object(M.jsx)("thead",{children:Object(M.jsxs)("tr",{className:"text-center p-5",children:[Object(M.jsx)("th",{children:"Navbat"}),Object(M.jsx)("th",{children:"#Id raqam"}),Object(M.jsx)("th",{children:"Bemor_ismi"}),Object(M.jsx)("th",{children:"Bemor_Fam"}),Object(M.jsx)("th",{children:"Bemor_tel"}),Object(M.jsx)("th",{})]})}),Object(M.jsx)("tbody",{children:e})]})})]})]})}}]),a}(n.Component),me=Object(u.b)((function(e){return{tables:e.tables.tables,user:e.tables.user,auth:e.auth}}),{getDoctorTable:B,accepted:function(e){return function(){var t=Object(Q.a)(I.a.mark((function t(a){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.a.get("api/doctor/".concat(e));case 2:a(B());case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(pe),Oe=a(43),xe=Object(u.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=Object(Oe.a)(e,["component","auth"]);return Object(M.jsx)(b.b,Object(m.a)(Object(m.a)({},n),{},{render:function(e){return!0===a.validToken?Object(M.jsx)(t,Object(m.a)({},e)):Object(M.jsx)(b.a,{to:"/login"})}}))})),fe=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).state={firstName:"",lastName:"",middleName:"",price:"",speciality:"",username:"",password:"",category:"",rooms:"",attachmentId:"",Rooms:[],file:{}},e.onChange=e.onChange.bind(Object(ne.a)(e)),e.onSubmit=e.onSubmit.bind(Object(ne.a)(e)),e.onFileChange=e.onFileChange.bind(Object(ne.a)(e)),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.auth.validToken||"admin"===this.props.auth.token.role[0].roleName?this.props.get_all_rooms():this.props.history.push("/login")}},{key:"componentWillReceiveProps",value:function(e){this.setState({Rooms:e.rooms.rooms})}},{key:"onFileChange",value:function(e){this.setState({file:e.target.files[0]})}},{key:"onChange",value:function(e){this.setState(Object(ae.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={firstName:this.state.firstName,lastName:this.state.lastName,middleName:this.state.middleName,price:this.state.price,speciality:this.state.speciality,username:this.state.username,password:this.state.password,category:this.state.category,rooms:this.state.rooms,attachmentId:this.state.attachmentId};this.props.pushDoctor(t,this.state.file,this.props.history)}},{key:"render",value:function(){var e=this.state.Rooms;return Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{style:{width:"1440px",margin:"0 auto"},children:[Object(M.jsx)(be,{}),Object(M.jsxs)("form",{style:{width:"100%",margin:"0 auto",marginTop:"20px"},onSubmit:this.onSubmit,children:[Object(M.jsxs)("div",{className:"form-group",style:{width:"690px",marginRight:"55px",float:"left"},children:[Object(M.jsx)("label",{htmlFor:"firstName",children:"First Name:"}),Object(M.jsx)("input",{type:"text",className:"form-control",id:"firstName",placeholder:"Enter First Name",onChange:this.onChange,name:"firstName",required:!0}),Object(M.jsx)("div",{className:"valid-feedback",children:"Valid."}),Object(M.jsx)("div",{className:"invalid-feedback",children:"Please fill out this field."})]}),Object(M.jsxs)("div",{className:"form-group",style:{width:"690px",float:"left"},children:[Object(M.jsx)("label",{htmlFor:"lastName",children:"LastName:"}),Object(M.jsx)("input",{type:"text",className:"form-control",id:"lastName",onChange:this.onChange,placeholder:"Enter Last Name",name:"lastName",required:!0}),Object(M.jsx)("div",{className:"valid-feedback",children:"Valid."}),Object(M.jsx)("div",{className:"invalid-feedback",children:"Please fill out this field."})]}),Object(M.jsxs)("div",{className:"form-group",style:{width:"690px",marginRight:"55px",float:"left"},children:[Object(M.jsx)("label",{htmlFor:"middleName",children:"Middle Name:"}),Object(M.jsx)("input",{type:"text",className:"form-control",id:"middleName",onChange:this.onChange,placeholder:"Enter Middle Name",name:"middleName",required:!0}),Object(M.jsx)("div",{className:"valid-feedback",children:"Valid."}),Object(M.jsx)("div",{className:"invalid-feedback",children:"Please fill out this field."})]}),Object(M.jsxs)("div",{className:"form-group",style:{width:"690px",float:"left"},children:[Object(M.jsx)("label",{htmlFor:"price",children:"Price:"}),Object(M.jsx)("input",{type:"text",className:"form-control",id:"price",onChange:this.onChange,placeholder:"50000",name:"price",required:!0}),Object(M.jsx)("div",{className:"valid-feedback",children:"Valid."}),Object(M.jsx)("div",{className:"invalid-feedback",children:"Please fill out this field."})]}),Object(M.jsxs)("div",{className:"form-group",style:{width:"690px",marginRight:"55px",float:"left"},children:[Object(M.jsx)("label",{htmlFor:"speciality",children:"Speciality:"}),Object(M.jsx)("input",{type:"text",className:"form-control",id:"speciality",onChange:this.onChange,placeholder:"lor",name:"speciality",required:!0}),Object(M.jsx)("div",{className:"valid-feedback",children:"Valid."}),Object(M.jsx)("div",{className:"invalid-feedback",children:"Please fill out this field."})]}),Object(M.jsxs)("div",{className:"form-group",style:{width:"690px",float:"left"},children:[Object(M.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(M.jsx)("input",{type:"text",className:"form-control",id:"username",onChange:this.onChange,placeholder:"username",name:"username",required:!0}),Object(M.jsx)("div",{className:"valid-feedback",children:"Valid."}),Object(M.jsx)("div",{className:"invalid-feedback",children:"Please fill out this field."})]}),Object(M.jsxs)("div",{className:"form-group",style:{width:"690px",marginRight:"55px",float:"left"},children:[Object(M.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(M.jsx)("input",{type:"password",className:"form-control",id:"password",onChange:this.onChange,placeholder:"password",name:"password",required:!0}),Object(M.jsx)("div",{className:"valid-feedback",children:"Valid."}),Object(M.jsx)("div",{className:"invalid-feedback",children:"Please fill out this field."})]}),Object(M.jsxs)("div",{className:"form-group",style:{width:"690px",float:"left"},children:[Object(M.jsx)("label",{htmlFor:"rooms",children:"Choose a rooms: "}),Object(M.jsx)("input",{list:"room",name:"rooms",id:"rooms",onChange:this.onChange}),Object(M.jsx)("datalist",{name:"rooms",id:"room",style:{padding:"5px",borderRadius:"10px",marginLeft:"10px",outline:"none"},children:e.map((function(e){return Object(M.jsxs)("option",{value:e.floor,children:[e.floor," qavat ",e.number," xona"]},e.id)}))})]}),Object(M.jsxs)("div",{className:"form-group",style:{width:"690px",float:"left"},children:[Object(M.jsx)("label",{htmlFor:"category",children:"Choose a category: "}),Object(M.jsx)("input",{list:"categorys",name:"category",id:"category",onChange:this.onChange}),Object(M.jsxs)("datalist",{id:"categorys",style:{padding:"5px",borderRadius:"10px",marginLeft:"10px",outline:"none"},children:[Object(M.jsx)("option",{value:"A"}),Object(M.jsx)("option",{value:"B"}),Object(M.jsx)("option",{value:"C"}),Object(M.jsx)("option",{value:"D"})]})]}),Object(M.jsxs)("div",{className:"form-group",style:{width:"690px",marginRight:"55px",float:"left"},children:[Object(M.jsx)("label",{htmlFor:"Img",children:"Rasm kiriting:"}),Object(M.jsx)("input",{type:"file",className:"form-control",id:"Img",onChange:this.onFileChange,placeholder:"Rasm kiriting",name:"file",required:!0}),Object(M.jsx)("div",{className:"valid-feedback",children:"Valid."}),Object(M.jsx)("div",{className:"invalid-feedback",children:"Please fill out this field."})]}),Object(M.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})})}}]),a}(n.Component),ve=Object(u.b)((function(e){return{rooms:e.rooms,auth:e.auth}}),{get_all_rooms:function(){return function(){var e=Object(Q.a)(I.a.mark((function e(t){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("api/room");case 2:a=e.sent,t({type:w,payload:a.data.body});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},pushDoctor:function(e,t,a){return function(){var n=Object(Q.a)(I.a.mark((function n(s){var c;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log(e),t instanceof File&&((c=new FormData).append("file",t),L.a.post("/api/img/upload",c).then((function(t){e.attachmentId=t.data[0],console.log(e),L.a.post("/api/auth/register",e).then((function(){s({type:O,payload:{}}),a.push("/admin")})).catch((function(e){s({type:O,payload:e.response.data})}))})).catch((function(e){a.push("/wrong"),console.log(e)})));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})(fe),ge=localStorage.jwtToken;if(ge){H(ge);var ye=Object(J.a)(ge);A.dispatch({type:y,payload:ye})}var Ne=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(M.jsx)(u.a,{store:A,children:Object(M.jsxs)(j.a,{children:[Object(M.jsxs)("div",{className:"App",children:[Object(M.jsx)(b.b,{exact:!0,path:"/",component:ee}),Object(M.jsx)(b.b,{exact:!0,path:"/listRegister/:id",component:le}),Object(M.jsx)(b.b,{exact:!0,path:"/login",component:de}),Object(M.jsx)(b.b,{exact:!0,path:"/addDoctor",component:ve})]}),Object(M.jsx)(b.d,{children:Object(M.jsx)(xe,{exact:!0,path:"/admin",component:he})}),Object(M.jsx)(b.d,{children:Object(M.jsx)(xe,{exact:!0,path:"/doctor",component:me})}),Object(M.jsx)(b.b,{exact:!0,path:"/",component:te})]})})}}]),a}(n.Component);L.a.defaults.baseURL="http://localhost:8080/",i.a.render(Object(M.jsx)(s.a.StrictMode,{children:Object(M.jsx)(Ne,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.8f823a51.chunk.js.map